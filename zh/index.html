<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【BMSFormer论文笔记】高效电池健康状态估算</title>
    <style>
        :root {
            --sidebar-width: 280px;
            --primary-color: #2c3e50;
            --link-color: #0366d6;
            --bg-color: #ffffff;
            --sidebar-bg: #f8f9fa;
            --border-color: #e1e4e8;
            --text-light: #6a737d;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            margin: 0;
            display: flex;
        }

        /* 侧边栏样式 */
        #sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            background-color: var(--sidebar-bg);
            border-right: 1px solid #e1e4e8;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            z-index: 1000;
        }

        #sidebar h3 {
            margin-top: 0;
            font-size: 1.2em;
            color: var(--primary-color);
            border-bottom: 2px solid #e1e4e8;
            padding-bottom: 10px;
        }

        #sidebar ul {
            list-style-type: none;
            padding-left: 0;
        }

        #sidebar ul li {
            margin-bottom: 8px;
        }

        #sidebar ul ul {
            padding-left: 15px;
            margin-top: 5px;
        }

        #sidebar a {
            text-decoration: none;
            color: #586069;
            font-size: 14px;
            display: block;
            padding: 4px 0;
            transition: color 0.2s;
        }

        #sidebar a:hover {
            color: var(--link-color);
            font-weight: 600;
        }

        /* 主内容区域样式 */
        #main-content {
            margin-left: var(--sidebar-width);
            padding: 40px 60px;
            max-width: 900px;
            width: 100%;
            box-sizing: border-box;
        }

        /* 标题样式 */
        h1, h2, h3, h4 {
            color: var(--primary-color);
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
        }

        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; margin-top: 1.5em; }
        h3 { font-size: 1.25em; }
        h4 { font-size: 1em; }

        /* 链接样式 */
        a { color: var(--link-color); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* 引用块样式 */
        blockquote {
            margin: 0;
            padding: 0 1em;
            color: #6a737d;
            border-left: 0.25em solid #dfe2e5;
            background-color: #fafbfc;
            padding-top: 10px;
            padding-bottom: 10px;
            margin-bottom: 16px;
        }

        /* 表格样式 */
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 16px;
            display: block;
            overflow-x: auto;
        }

        th, td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
        }

        tr:nth-child(2n) {
            background-color: #f6f8fa;
        }

        th {
            background-color: #f3f4f6;
            font-weight: 600;
            text-align: left;
        }

        /* 图片样式 */
        img {
            max-width: 100%;
            height: auto;
            border-style: none;
        }

        .img-container {
            text-align: center;
            margin: 20px 0;
        }

        .img-caption {
            color: #6a737d;
            font-style: italic;
            margin-top: 8px;
            font-size: 0.9em;
        }

        /* 代码块样式 */
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            padding: 16px;
            overflow: auto;
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 85%;
            line-height: 1.45;
        }

        /* 徽章容器 */
        .badges {
            margin-bottom: 20px;
        }
        .badges a {
            margin-right: 5px;
            text-decoration: none;
        }
    </style>
</head>
<body>

    <!-- 侧边栏导航 -->
    <div id="sidebar">
    <!-- 语言切换按钮开始 -->
    <div style="margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); display: flex; gap: 8px; flex-wrap: wrap;">
        <span style="font-size: 0.8rem; color: var(--text-light); width: 100%;">语言 / Language / 言語 / 언어:</span>
        <a href="../zh/index.html" style="color: var(--primary-color); font-weight: bold; font-size: 0.85rem;">中文</a>
        <a href="../en/index.html" style="color: var(--primary-color); font-weight: bold; font-size: 0.85rem;">English</a>
        <a href="../jp/index.html" style="color: var(--primary-color); font-weight: bold; font-size: 0.85rem;">日本語</a>
        <a href="../kr/index.html" style="color: var(--primary-color); font-weight: bold; font-size: 0.85rem;">한국어</a>
    </div>
    <!-- 语言切换按钮结束 -->
 

        <h3>目录</h3>
        <ul>
            <li><a href="#1-研究背景与核心问题">1. 研究背景与核心问题</a></li>
            <li><a href="#2-健康指标hi的提取逻辑">2. 健康指标（HI）的提取逻辑</a></li>
            <li><a href="#3-bmsformer-模型架构设计">3. BMSFormer 模型架构设计</a>
                <ul>
                    <li><a href="#31-局部-全局融合注意力机制-lgfa">3.1 局部-全局融合注意力机制 (LGFA)</a></li>
                    <li><a href="#32-深度可分离卷积模块-dsconv">3.2 深度可分离卷积模块 (DSConv)</a></li>
                </ul>
            </li>
            <li><a href="#4-实验验证与性能评估">4. 实验验证与性能评估</a>
                <ul>
                    <li><a href="#41-准确性对比">4.1 准确性对比</a></li>
                    <li><a href="#42-部署效率对比">4.2 部署效率对比</a></li>
                    <li><a href="#43-稳定性分析">4.3 稳定性分析</a></li>
                </ul>
            </li>
            <li><a href="#5-结论">5. 结论</a></li>
            <li><a href="#论文链接">论文链接</a></li>
        </ul>
    </div>

    <!-- 主内容 -->
    <div id="main-content">
        <h1 id="bmsformer论文笔记高效电池健康状态估算局部-全局融合注意力驱动的轻量化深度学习模型">【BMSFormer论文笔记】高效电池健康状态估算——局部-全局融合注意力驱动的轻量化深度学习模型</h1>

        <blockquote>
            <p><strong>Efficient State-of-Health Estimation of Lithium-ion Batteries</strong></p>
            <p><strong>Paper Title:</strong> <em>BMSFormer: An efficient deep learning model for online state-of-health estimation of lithium-ion batteries under high-frequency early SOC data with strong correlated single health indicator</em></p>
            <p><strong>Journal:</strong> <em>Energy (Elsevier), Vol. 313, 2024</em></p>
            <p><strong>DOI:</strong> <a href="https://doi.org/10.1016/j.energy.2024.134030">10.1016/j.energy.2024.134030</a></p>
        </blockquote>

        <div class="badges">
            <a href="https://doi.org/10.1016/j.energy.2024.134030"><img src="https://img.shields.io/badge/DOI-10.1016%2Fj.energy.2024.134030-blue" alt="DOI"></a>
            <a href="https://doi.org/10.1016/j.energy.2024.134030"><img src="https://img.shields.io/badge/Status-Published-brightgreen" alt="Status"></a>
            <a href="https://doi.org/10.1016/j.energy.2024.134030"><img src="https://img.shields.io/badge/Topic-Efficiency%20Estimation-orange" alt="Topic"></a>
        </div>

        <h3 id="1-研究背景与核心问题">1. 研究背景与核心问题</h3>
        <p>锂离子电池的健康状态（State-of-Health, SOH）定义为当前容量与额定容量的比值。由于电池内部降解（如活性物质损失、固体电解质界面膜增厚等）属于复杂的电化学过程，SOH 无法通过物理传感器直接测量，通常需要通过外部可观测信号（如电压、电流、温度）进行回归估算。</p>
        <p>目前，工业界对电池管理系统（BMS）的 SOH 估算提出了两个核心诉求：</p>
        <ul>
            <li><strong>高精度</strong>：能够准确捕捉电池容量衰减过程中的非线性波动。</li>
            <li><strong>低功耗</strong>：由于 BMS 硬件资源（内存与算力）有限，深度学习模型必须足够轻量，以支持在线实时运行。</li>
        </ul>
        <p>现有的方法如 LSTM 或传统的 Transformer，要么难以处理长序列的全局依赖，要么计算开销（O(N^2) 复杂度）过大，难以在嵌入式芯片上部署。</p>

        <h3 id="2-健康指标hi的提取逻辑">2. 健康指标（HI）的提取逻辑</h3>
        <p>在训练深度学习模型之前，输入数据的质量决定了模型的上限。论文中采用了一种高相关性单一健康指标提取方法：</p>
        <ul>
            <li><strong>物理依据</strong>：在电池每天的充电过程中，特定电压段的充电时长与电池老化的相关性极高。</li>
            <li><strong>提取过程</strong>：通过对高频早期荷电状态（SOC）段（如充电阶段 3.8 V–4.2 V，放电阶段 3.8 V–3.4 V）进行逐步窗口搜索。</li>
            <li><strong>相关性验证</strong>：实验结果表明，通过该方法确定的恒流充电时间（CCCT）与电池 SOH 的皮尔逊相关系数（PCC）平均超过了 <strong>0.99</strong>。这意味着单一指标就能提供足够丰富的信息，在简化输入特征的同时降低了预处理成本。</li>
        </ul>

        <h3 id="3-bmsformer-模型架构设计">3. BMSFormer 模型架构设计</h3>
        
        <div class="img-container" align="center">
            <img src="https://github.com/user-attachments/assets/0b8260ba-96a6-4909-b698-c41b2bd6e7aa" alt="BMSFormer 框架" />
            <p class="img-caption"><em>图1 BMSFormer 框架 (a) LGFA 模块 (b) BMSFormer 块 (c) DSConv-L 模块 (d) BMSFormer 核心结构</em></p>
        </div>

        <p>图1为BMSFormer框架图，为了兼顾计算效率与特征捕捉能力，BMSFormer 模型引入了两个核心改进：</p>

        <h4 id="31-局部-全局融合注意力机制-lgfa">3.1 局部-全局融合注意力机制 (LGFA)</h4>
        
        <div class="img-container" align="center">
            <img src="https://github.com/user-attachments/assets/181512b0-88ce-4ccc-9eae-ef28f092aba5" width="80%" alt="LGFA 模块" />
            <p class="img-caption"><em>图2 (a) 传统 Softmax 注意力机制 (b) 传统线性注意力机制与 (c) 所提出的局部-全局融合注意力模块之间的区别</em></p>
        </div>

        <p>传统的自注意力机制（Softmax-based Attention）计算量随输入序列长度 N 的增长呈平方级增加。BMSFormer 采用了一种局部-全局融合注意力模块：</p>
        <ul>
            <li><strong>线性复杂度</strong>：利用关联属性（Associative Property）改变计算顺序，将复杂度从 O(N^2) 降为 O(N)。</li>
            <li><strong>特征捕捉</strong>：通过 ReLU 激活函数增强特征的表达能力，使其既能关注长期的容量衰减趋势（全局），也能敏感捕捉到容量再生或突发波动（局部）。</li>
        </ul>

        <h4 id="32-深度可分离卷积模块-dsconv">3.2 深度可分离卷积模块 (DSConv)</h4>
        
        <div class="img-container" align="center">
            <img src="https://github.com/user-attachments/assets/6f4b5029-f7e9-48a0-955e-eab65437577c" width="80%" alt="DSConv 模块" />
            <p class="img-caption"><em>图3 (a) 标准卷积 (b) 标准深度可分离卷积 (c) DSConv-S 模块 (d) DSConv-L 模块的基本结构</em></p>
        </div>

        <p>模型中嵌入了两种不同倍数的深度可分离卷积：DSConv-S（小核）和 DSConv-L（大核）。</p>
        <ul>
            <li><strong>原理</strong>：将标准卷积分解为深度卷积（Depthwise）和逐点卷积（Pointwise）。</li>
            <li><strong>作用</strong>：在不增加过多参数的前提下，DSConv 能够融合多尺度和多通道特征，增加特征的多样性。这对于区分电池在不同老化阶段的细微特征起到了关键作用。</li>
        </ul>

        <h3 id="4-实验验证与性能评估">4. 实验验证与性能评估</h3>
        <p>论文使用了三类主流公开数据集（Oxford、NASA、CALCE）对模型进行验证。这些数据集涵盖了不同的正极材料（LCO、NCA、NCO-LCO）和不同的运行工况。</p>

        <h3>表1 三种电池数据集的详细描述</h3>
        <table>
            <thead>
                <tr>
                    <th><strong>数据来源 (Data Sources)</strong></th>
                    <th>Oxford</th>
                    <th>NASA</th>
                    <th>CALCE</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>制造商 (Manufacturer)</strong></td>
                    <td>Kokam</td>
                    <td>LG Chem</td>
                    <td>LG Chem</td>
                </tr>
                <tr>
                    <td><strong>电池类型 (Cell types)</strong></td>
                    <td>Pouch (软包)</td>
                    <td>18650 Cylindrical (18650圆柱)</td>
                    <td>Prismatic (方形)</td>
                </tr>
                <tr>
                    <td><strong>正极材料 (Cathode material)</strong></td>
                    <td>NCO-LCO</td>
                    <td>NCA</td>
                    <td>LCO</td>
                </tr>
                <tr>
                    <td><strong>选定电池系列 (Selected battery series)</strong></td>
                    <td>Cell (1–8)</td>
                    <td>B00 (05–07 and 18)</td>
                    <td>CS2 (35–38)</td>
                </tr>
                <tr>
                    <td><strong>电池数量 (Battery number)</strong></td>
                    <td>8</td>
                    <td>4</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td><strong>额定容量 (Rated capacity, Ah)</strong></td>
                    <td>0.74</td>
                    <td>2</td>
                    <td>1.1</td>
                </tr>
                <tr>
                    <td><strong>失效阈值 (Capacity failure threshold)</strong></td>
                    <td>70%</td>
                    <td>1.4 Ah (70%)</td>
                    <td>0.84 Ah (76.4%)</td>
                </tr>
                <tr>
                    <td><strong>充电协议 (Charge protocol)</strong></td>
                    <td>CC (2C)</td>
                    <td>CC-CV (0.75C, 4.2V)</td>
                    <td>CC-CV (0.5C, 4.2V)</td>
                </tr>
                <tr>
                    <td><strong>放电协议 (Discharge protocol)</strong></td>
                    <td>Variance (工况变化)</td>
                    <td>CC (1C)</td>
                    <td>CC (1C)</td>
                </tr>
                <tr>
                    <td><strong>截止电压 (Cut-off voltage, V)</strong></td>
                    <td>充电至 4.2, 放电至 2.7</td>
                    <td>充电至 4.2, 放电至 2.7/2.5/2.2/2.5</td>
                    <td>充电至 4.2, 放电至 2.7</td>
                </tr>
                <tr>
                    <td><strong>截止电流 (Cut-off current, A)</strong></td>
                    <td>–</td>
                    <td>充电至 0.02</td>
                    <td>充电至 0.05</td>
                </tr>
                <tr>
                    <td><strong>实验温度 (Experiment temperature, °C)</strong></td>
                    <td>40</td>
                    <td>24</td>
                    <td>24</td>
                </tr>
                <tr>
                    <td><strong>循环次数 (Cycle numbers)</strong></td>
                    <td>8200/7700/8100/5100/ 5000/5000/8100/8100</td>
                    <td>168/168/168/132</td>
                    <td>881/935/971/995</td>
                </tr>
            </tbody>
        </table>

        <h4 id="41-准确性对比">4.1 准确性对比</h4>
        <p>在与 LSTM、Transformer、CNN-LSTM、CNN-Transformer 等模型的对比实验中，BMSFormer 在所有测试电池上均表现出更低的 MAE（平均绝对误差）和 RMSE（均方根误差）。即便在电池 SOH 出现剧烈波动的情况下，该预测曲线仍能紧密贴合真实值。</p>

        <h4 id="42-部署效率对比">4.2 部署效率对比</h4>
        <p>实验重点分析了模型的硬件成本。在同等精度水平下：</p>
        <ul>
            <li><strong>参数量与存储</strong>：BMSFormer 的存储大小约为 <strong>36.37 KB</strong>。</li>
            <li><strong>计算速度</strong>：由于采用了线性注意力机制，其训练时间显著缩短，且 FLOPs（浮点运算数）维持在较低水平。</li>
        </ul>

        <h4 id="43-稳定性分析">4.3 稳定性分析</h4>
        <p>通过 384 组不同的超参数组合（如层数、学习率、维度等）测试发现，BMSFormer 在不同参数设置下均能保持稳定的估算性能。这种鲁棒性对于实际工程应用非常重要，意味着模型不需要针对每种电池进行繁琐的参数微调。</p>

        <h3 id="5-结论">5. 结论</h3>
        <p>BMSFormer 提供了一种平衡精度与效率的电池健康度评估方案。通过高效的注意力机制设计与轻量化卷积模块，可以在资源受限的硬件上实现较为可靠的 SOH 在线监测。这为下一代智能电池管理系统的开发提供了技术支撑。</p>

        <hr>

        <h3 id="论文链接">论文链接</h3>
        <p><strong>Title:</strong> BMSFormer: An efficient deep learning model for online state-of-health estimation of lithium-ion batteries under high-frequency early SOC data with strong correlated single health indicator</p>
        <p><strong>Journal:</strong> <em>Energy</em>, 2024</p>
        <p><strong>DOI:</strong> <a href="https://doi.org/10.1016/j.energy.2024.134030">10.1016/j.energy.2024.134030</a></p>
        <p><strong><a href="BMSFormer.pdf" download="https://imgonnabesodamnrich.github.io/BMSFormer_page/BMSFormer.pdf">点击直接下载论文PDF</a>
        
    </div>

</body>
</html>





